# EnergyNexus System Configuration File
# MSc Project: Advanced Scheduling Algorithms for Integrated Power Systems
# Author: Aditya Talekar (ec24018@qmul.ac.uk)
# Supervisor: Saqib Iqbal
# QMUL MSc Data Science and AI - 2024/25

# This configuration file controls all aspects of the EnergyNexus system including
# data collection, processing, forecasting, optimization, and simulation parameters.
# All parameters have been carefully chosen based on literature review, industry
# standards, and empirical testing during system development.

# =============================================================================
# PROJECT METADATA AND DOCUMENTATION
# =============================================================================
project:
  name: "EnergyNexus"
  version: "1.0.0"
  description: "Advanced Scheduling Algorithms for Integrated Power Systems"
  author: "Aditya Talekar"
  institution: "Queen Mary University of London"
  department: "School of Electronic Engineering and Computer Science"
  programme: "MSc Data Science and AI"
  supervisor: "Saqib Iqbal"
  academic_year: "2024-2025"
  
  # Research objectives addressed by this configuration
  objectives:
    - "Model hybrid energy systems with renewable and conventional sources"
    - "Develop multi-horizon forecasting for renewable energy generation"
    - "Create optimization algorithms for cost-effective energy scheduling"
    - "Implement uncertainty quantification for grid stability assessment"
    - "Build comprehensive simulation environment for system evaluation"

# =============================================================================
# SYSTEM ARCHITECTURE AND COMPUTATIONAL SETTINGS
# =============================================================================
system:
  # Computational environment configuration
  # I chose these settings for optimal performance on standard research hardware
  compute:
    device: "auto"              # auto-detect GPU/CPU, use "cuda" to force GPU
    max_threads: 8              # parallel processing threads for data operations
    memory_limit_gb: 16         # maximum memory usage for large dataset processing
    precision: "float32"        # numerical precision (float32 for speed, float64 for accuracy)
    random_seed: 42             # fixed seed for reproducible research results
  
  # File system and data management
  # These paths organize all project data and results systematically
  paths:
    data_root: "data/"
    raw_data: "data/raw/"
    processed_data: "data/processed/"
    models: "results/models/"
    plots: "results/plots/"
    reports: "results/reports/"
    logs: "logs/"
    temp: "temp/"
    cache: "cache/"
  
  # Logging configuration for comprehensive system monitoring
  # Essential for debugging and thesis documentation
  logging:
    level: "INFO"               # INFO for normal operation, DEBUG for development
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    file_rotation: true
    max_file_size_mb: 100
    backup_count: 5

# =============================================================================
# DATA COLLECTION AND MANAGEMENT CONFIGURATION
# =============================================================================
data:
  # Data collection settings for multi-source energy data acquisition
  collection:
    # Primary data sources for comprehensive energy system analysis
    sources:
      nrel:                     # National Renewable Energy Laboratory
        enabled: true
        api_key_env: "NREL_API_KEY"  # environment variable for API key
        rate_limit_per_hour: 1000
        retry_attempts: 3
        timeout_seconds: 30
        base_url: "https://developer.nrel.gov/api"
        
      eia:                      # Energy Information Administration
        enabled: true
        api_key_env: "EIA_API_KEY"
        rate_limit_per_hour: 5000
        retry_attempts: 3
        timeout_seconds: 30
        base_url: "https://api.eia.gov"
        
      weather:                  # Weather data for renewable forecasting
        enabled: true
        api_key_env: "WEATHER_API_KEY"
        rate_limit_per_hour: 1000
        retry_attempts: 3
        timeout_seconds: 30
        provider: "openweathermap"
    
    # Data collection schedule for operational deployment
    schedule:
      historical_batch: "weekly"    # batch collection of historical data
      real_time: "hourly"          # real-time data for operational forecasting
      weather_forecast: "6hourly"   # weather forecasts for prediction updates
      market_data: "daily"         # energy market data for optimization
    
    # Geographic coverage for data collection
    # Configured for UK/European energy system analysis
    geographic:
      primary_region:
        name: "United Kingdom"
        coordinates:
          center_lat: 54.5
          center_lon: -2.0
          bounding_box:
            north: 60.9
            south: 49.9
            east: 1.8
            west: -8.2
      
      # Key locations for detailed analysis
      focus_locations:
        london:
          lat: 51.5074
          lon: -0.1278
          region: "Greater London"
        manchester:
          lat: 53.4808
          lon: -2.2426
          region: "North West England"
        birmingham:
          lat: 52.4862
          lon: -1.8904
          region: "West Midlands"
  
  # Data processing and quality control parameters
  processing:
    # Data quality thresholds based on energy system requirements
    quality_thresholds:
      completeness_minimum: 0.85    # minimum 85% data completeness
      consistency_minimum: 0.80     # minimum 80% pattern consistency
      accuracy_minimum: 0.90        # minimum 90% accuracy for known values
    
    # Data cleaning and preprocessing settings
    cleaning:
      remove_outliers: true
      outlier_method: "modified_zscore"    # robust outlier detection
      outlier_threshold: 3.5              # threshold for outlier identification
      interpolate_gaps: true
      max_gap_hours: 6                     # maximum gap size for interpolation
      physics_validation: true             # apply energy physics constraints
      
    # Feature engineering configuration
    feature_engineering:
      create_lag_features: true
      lag_hours: [1, 6, 24, 168]          # 1h, 6h, 1day, 1week lags
      create_rolling_features: true
      rolling_windows: [24, 168]          # daily and weekly rolling statistics
      create_time_features: true
      circular_encoding: true             # sin/cos encoding for cyclical features
      
    # Data storage and archiving
    storage:
      format: "parquet"                   # efficient storage format
      compression: "snappy"               # balance of speed and compression
      partition_by: ["year", "month"]     # partition large datasets efficiently
      backup_enabled: true
      backup_frequency: "daily"

# =============================================================================
# MACHINE LEARNING AND FORECASTING CONFIGURATION
# =============================================================================
forecasting:
  # Multi-horizon LSTM forecasting model configuration
  # Parameters optimized through empirical testing and literature review
  lstm:
    # Model architecture parameters
    architecture:
      sequence_length: 48               # 48 hours (2 days) of historical context
      hidden_size: 128                  # optimal balance of capacity and speed
      num_layers: 3                     # multi-scale temporal pattern capture
      dropout_rate: 0.3                 # prevent overfitting on energy data
      bidirectional: true               # capture forward and backward dependencies
      attention_enabled: true           # focus on relevant historical periods
      attention_heads: 8                # multi-head attention for pattern diversity
    
    # Forecast horizons for operational grid management
    horizons:
      immediate: 1                      # 1-hour ahead for immediate dispatch
      short_term: 6                     # 6-hour ahead for unit commitment
      day_ahead: 24                     # 24-hour ahead for market participation
    
    # Training configuration optimized for energy time series
    training:
      epochs: 100                       # maximum training epochs
      batch_size: 32                    # optimal batch size for energy data
      learning_rate: 0.001              # stable learning rate for LSTM training
      early_stopping:
        enabled: true
        patience: 15                    # epochs without improvement before stopping
        min_delta: 0.0001              # minimum improvement threshold
      
      # Learning rate scheduling for fine-tuned convergence
      lr_scheduler:
        type: "ReduceLROnPlateau"
        factor: 0.5                     # reduce LR by half when plateaued
        patience: 5                     # epochs to wait before reducing LR
        min_lr: 1e-6                   # minimum learning rate
      
      # Model regularization and optimization
      optimization:
        optimizer: "Adam"               # Adam optimizer for LSTM networks
        weight_decay: 1e-5             # L2 regularization strength
        gradient_clipping: 1.0         # prevent exploding gradients
        
    # Data splitting strategy for proper time series validation
    data_split:
      train_ratio: 0.7                  # 70% for training
      validation_ratio: 0.2             # 20% for validation  
      test_ratio: 0.1                   # 10% for final testing
      method: "temporal"                # temporal split (no random shuffling)
  
  # Model evaluation metrics specific to energy forecasting
  evaluation:
    # Primary metrics for energy system evaluation
    metrics:
      - "mae"                          # Mean Absolute Error (MW)
      - "rmse"                         # Root Mean Square Error (MW)
      - "mape"                         # Mean Absolute Percentage Error (%)
      - "r2"                           # Coefficient of Determination
      - "directional_accuracy"         # Trend prediction accuracy (%)
    
    # Performance thresholds for operational acceptance
    # Based on industry standards for renewable energy forecasting
    thresholds:
      mae_acceptable: 50               # MW - acceptable for grid operations
      mae_excellent: 25                # MW - excellent performance target
      r2_minimum: 0.8                  # minimum explained variance
      directional_accuracy_minimum: 0.75  # minimum trend prediction accuracy
    
    # Evaluation reporting configuration
    reporting:
      generate_plots: true
      plot_formats: ["png", "pdf"]
      include_uncertainty: true
      confidence_intervals: [0.68, 0.95]  # 1-sigma and 2-sigma intervals

# =============================================================================
# OPTIMIZATION ALGORITHM CONFIGURATION  
# =============================================================================
optimization:
  # Multi-objective optimization for energy system scheduling
  # Balances cost, emissions, and reliability objectives
  objectives:
    # Objective weights for multi-criteria decision making
    # Weights sum to 1.0 and reflect grid operator priorities
    weights:
      cost_minimization: 0.4           # operational cost reduction priority
      emission_minimization: 0.3       # environmental impact consideration
      reliability_maximization: 0.3    # grid stability and security priority
    
    # Cost optimization parameters
    cost:
      include_fuel_costs: true
      include_startup_costs: true
      include_maintenance_costs: true
      include_carbon_pricing: true
      carbon_price_per_ton: 50         # USD per ton CO2 equivalent
    
    # Emissions optimization parameters  
    emissions:
      track_co2: true
      track_nox: true
      track_so2: true
      emission_limits_enabled: true
      
    # Reliability optimization parameters
    reliability:
      reserve_margin_minimum: 0.15     # 15% minimum spinning reserve
      renewable_penetration_max: 0.8   # 80% maximum renewable penetration
      ramp_rate_constraints: true
  
  # Optimization algorithm configuration
  algorithms:
    # Primary algorithm: Mixed Integer Linear Programming
    milp:
      solver: "gurobi"                 # commercial solver for optimal performance
      fallback_solver: "glpk"          # open-source fallback solver
      time_limit_seconds: 300         # maximum solution time
      mip_gap_tolerance: 0.01         # 1% optimality gap tolerance
      threads: 4                      # parallel solver threads
    
    # Metaheuristic algorithms for complex scenarios
    genetic_algorithm:
      population_size: 100
      generations: 200
      crossover_rate: 0.8
      mutation_rate: 0.1
      elite_preservation: 0.1
      
    particle_swarm:
      swarm_size: 50
      iterations: 150
      inertia_weight: 0.9
      cognitive_constant: 2.0
      social_constant: 2.0
  
  # Planning horizon and temporal resolution
  temporal:
    planning_horizon_hours: 24         # 24-hour optimization horizon
    time_step_minutes: 60              # hourly time resolution
    rolling_horizon: true
    horizon_overlap_hours: 6           # 6-hour overlap for smooth transitions
  
  # Constraint configuration for realistic system modeling
  constraints:
    # Generation unit constraints
    generation:
      minimum_stable_generation: true   # minimum output constraints
      maximum_capacity_limits: true     # maximum output constraints
      ramp_rate_limits: true           # rate of change constraints
      minimum_up_time: true            # minimum online duration
      minimum_down_time: true          # minimum offline duration
      
    # System-level constraints
    system:
      power_balance: true              # supply equals demand constraint
      spinning_reserve: true           # operational reserve requirements
      transmission_limits: true        # network capacity constraints
      renewable_integration: true      # grid code compliance for renewables

# =============================================================================
# ENERGY SOURCE SPECIFICATIONS
# =============================================================================
energy_sources:
  # Renewable energy sources configuration
  # Parameters based on typical UK renewable installations
  solar:
    type: "renewable"
    technology: "photovoltaic"
    capacity_mw: 250                   # nominal capacity
    capacity_factor: 0.12              # annual average capacity factor (UK typical)
    variable_cost_per_mwh: 0           # marginal cost (no fuel cost)
    fixed_cost_per_mw_year: 45000     # annual fixed O&M costs
    carbon_intensity_kg_per_mwh: 0     # zero operational emissions
    ramp_rate_per_minute: 250          # very fast ramping capability
    minimum_generation_mw: 0
    maximum_generation_mw: 250
    forced_outage_rate: 0.02           # 2% forced outage rate
    planned_outage_rate: 0.05          # 5% planned maintenance outage
    
  wind_onshore:
    type: "renewable" 
    technology: "wind_turbine"
    capacity_mw: 200
    capacity_factor: 0.28              # UK onshore wind typical
    variable_cost_per_mwh: 5           # minimal O&M costs
    fixed_cost_per_mw_year: 35000
    carbon_intensity_kg_per_mwh: 0
    ramp_rate_per_minute: 200
    minimum_generation_mw: 10          # minimum generation when operating
    maximum_generation_mw: 200
    forced_outage_rate: 0.03
    planned_outage_rate: 0.08
    
  wind_offshore:
    type: "renewable"
    technology: "wind_turbine_offshore" 
    capacity_mw: 350
    capacity_factor: 0.45              # higher capacity factor offshore
    variable_cost_per_mwh: 8           # higher O&M due to offshore access
    fixed_cost_per_mw_year: 75000     # higher fixed costs offshore
    carbon_intensity_kg_per_mwh: 0
    ramp_rate_per_minute: 350
    minimum_generation_mw: 20
    maximum_generation_mw: 350
    forced_outage_rate: 0.04           # higher outage rate due to harsh environment
    planned_outage_rate: 0.10
  
  # Conventional energy sources for system reliability
  # Parameters based on typical UK thermal generation fleet
  natural_gas_ccgt:
    type: "conventional"
    technology: "combined_cycle_gas_turbine"
    capacity_mw: 400
    capacity_factor: 0.5               # intermediate load operation
    variable_cost_per_mwh: 65          # fuel and variable O&M costs
    fixed_cost_per_mw_year: 25000     # lower fixed costs than renewables
    carbon_intensity_kg_per_mwh: 350   # CCGT emission factor
    ramp_rate_per_minute: 10           # good ramping capability
    minimum_generation_mw: 160         # 40% minimum stable generation
    maximum_generation_mw: 400
    startup_time_hours: 2              # hot start time
    shutdown_time_hours: 2
    startup_cost_usd: 5000            # startup fuel and wear costs
    forced_outage_rate: 0.06
    planned_outage_rate: 0.15
    
  natural_gas_ocgt:
    type: "conventional"
    technology: "open_cycle_gas_turbine"
    capacity_mw: 200
    capacity_factor: 0.1               # peaking operation only
    variable_cost_per_mwh: 95          # higher heat rate than CCGT
    fixed_cost_per_mw_year: 15000     # lower fixed costs for peaking unit
    carbon_intensity_kg_per_mwh: 550   # higher emissions than CCGT
    ramp_rate_per_minute: 30           # very fast ramping for peaking
    minimum_generation_mw: 40          # 20% minimum stable generation
    maximum_generation_mw: 200
    startup_time_hours: 0.25           # 15 minutes hot start
    shutdown_time_hours: 0.25
    startup_cost_usd: 1500
    forced_outage_rate: 0.04
    planned_outage_rate: 0.10
    
  coal_steam:
    type: "conventional"
    technology: "pulverized_coal"
    capacity_mw: 500
    capacity_factor: 0.4               # base load with some cycling
    variable_cost_per_mwh: 45          # lower fuel costs but higher O&M
    fixed_cost_per_mw_year: 35000     # higher fixed costs for coal plant
    carbon_intensity_kg_per_mwh: 820   # highest emission factor
    ramp_rate_per_minute: 3            # slow ramping capability
    minimum_generation_mw: 250         # 50% minimum stable generation
    maximum_generation_mw: 500
    startup_time_hours: 8              # long startup time
    shutdown_time_hours: 8
    startup_cost_usd: 15000           # high startup costs
    forced_outage_rate: 0.08
    planned_outage_rate: 0.20
  
  # Energy storage systems for grid flexibility
  battery_storage:
    type: "storage"
    technology: "lithium_ion_battery"
    power_capacity_mw: 100            # charging/discharging power capacity
    energy_capacity_mwh: 400          # 4-hour duration storage
    round_trip_efficiency: 0.9        # 90% round-trip efficiency
    variable_cost_per_mwh: 2          # minimal O&M costs
    fixed_cost_per_mw_year: 50000     # high capital costs
    carbon_intensity_kg_per_mwh: 0    # zero operational emissions
    ramp_rate_per_minute: 100         # very fast response
    minimum_state_of_charge: 0.1      # 10% minimum SOC for battery health
    maximum_state_of_charge: 0.9      # 90% maximum SOC for battery health
    self_discharge_rate: 0.0001       # 0.01% per hour self-discharge
    forced_outage_rate: 0.02
    planned_outage_rate: 0.05

# =============================================================================
# SIMULATION AND TESTING CONFIGURATION
# =============================================================================
simulation:
  # Simulation environment for system testing and validation
  environment:
    simulation_duration_days: 30       # 30-day simulation periods
    time_resolution_minutes: 60        # hourly simulation time steps
    monte_carlo_runs: 100              # statistical robustness testing
    random_seed: 42                    # reproducible simulation results
  
  # Scenario generation for comprehensive system testing
  scenarios:
    # Base case scenario for normal operations
    base_case:
      name: "Normal Operations"
      description: "Typical operating conditions with standard demand and renewable patterns"
      demand_variation: 0.1            # ±10% demand uncertainty
      renewable_variation: 0.2         # ±20% renewable forecast error
      outage_probability: 0.05         # 5% equipment availability
      
    # High renewable penetration scenario
    high_renewable:
      name: "High Renewable Penetration"
      description: "Maximum renewable output testing grid flexibility"
      demand_variation: 0.1
      renewable_variation: 0.3         # higher forecast uncertainty
      renewable_scaling: 1.5           # 50% higher renewable capacity
      outage_probability: 0.05
      
    # Peak demand stress test scenario
    peak_demand:
      name: "Peak Demand Stress Test"
      description: "Maximum system demand testing adequacy"
      demand_scaling: 1.3              # 30% higher peak demand
      renewable_variation: 0.2
      outage_probability: 0.1          # higher outage probability during stress
      
    # Equipment outage scenario
    n_minus_1:
      name: "N-1 Contingency"
      description: "Largest unit outage testing system security"
      demand_variation: 0.1
      renewable_variation: 0.2
      forced_outage_largest_unit: true  # force outage of largest generator
      
    # Low renewable scenario
    low_renewable:
      name: "Low Renewable Output"
      description: "Minimal renewable generation testing backup requirements"
      demand_variation: 0.1
      renewable_scaling: 0.3           # 70% reduction in renewable output
      outage_probability: 0.05
  
  # Performance metrics for simulation evaluation
  metrics:
    # Economic metrics
    economic:
      - "total_cost"                   # total system operational cost
      - "average_cost_per_mwh"        # average cost of electricity
      - "fuel_cost"                   # total fuel costs
      - "startup_cost"                # total startup costs
      
    # Environmental metrics  
    environmental:
      - "total_emissions"             # total CO2 emissions
      - "emission_intensity"          # kg CO2 per MWh
      - "renewable_penetration"       # percentage renewable generation
      
    # Reliability metrics
    reliability:
      - "loss_of_load_probability"    # probability of supply shortage
      - "expected_unserved_energy"    # expected energy not supplied
      - "reserve_margin"              # operating reserve maintained
      - "ramp_capability"             # system ramping adequacy
      
    # Technical metrics
    technical:
      - "capacity_factor"             # generation unit utilization
      - "cycling_frequency"           # start/stop frequency
      - "ramp_rate_utilization"       # ramping capability usage

# =============================================================================
# REPORTING AND VISUALIZATION CONFIGURATION
# =============================================================================
reporting:
  # Automated report generation for thesis documentation
  generation:
    frequency: "daily"                 # automated daily reports
    formats: ["html", "pdf", "json"]   # multiple output formats
    include_plots: true
    plot_formats: ["png", "svg", "pdf"]
    interactive_plots: true           # web-based interactive visualizations
    
  # Dashboard configuration for real-time monitoring
  dashboard:
    enabled: true
    auto_refresh_seconds: 300         # 5-minute refresh for real-time data
    key_metrics_display: 
      - "current_demand"
      - "renewable_generation"
      - "system_cost"
      - "emission_rate"
      - "reserve_margin"
    
  # Academic documentation features
  academic:
    generate_methodology_docs: true    # automatic methodology documentation
    include_code_documentation: true   # code documentation for reproducibility
    generate_performance_summary: true # performance summary for thesis
    include_sensitivity_analysis: true # sensitivity analysis results
    export_thesis_figures: true       # publication-quality figures
    
  # Data export configuration for external analysis
  export:
    formats: ["csv", "xlsx", "json", "parquet"]
    include_metadata: true            # comprehensive metadata for reproducibility
    compression: true                 # compress large datasets
    version_control: true             # version tracking for data exports

# =============================================================================
# SECURITY AND COMPLIANCE CONFIGURATION
# =============================================================================
security:
  # API key and credential management
  credentials:
    storage_method: "environment_variables"  # secure credential storage
    encryption_enabled: true         # encrypt stored credentials
    rotation_frequency_days: 90       # regular credential rotation
    
  # Data privacy and protection
  privacy:
    anonymize_location_data: false    # keep precise coordinates for research
    data_retention_days: 1095         # 3-year data retention for research
    backup_encryption: true           # encrypt all backup data
    
  # Audit and compliance logging
  audit:
    log_data_access: true            # log all data access events
    log_model_training: true         # log model training activities
    log_api_calls: true              # log external API interactions
    retention_days: 365              # 1-year audit log retention

# =============================================================================
# DEVELOPMENT AND TESTING CONFIGURATION
# =============================================================================
development:
  # Testing framework configuration
  testing:
    unit_tests_enabled: true
    integration_tests_enabled: true
    performance_tests_enabled: true
    test_data_generation: true       # generate synthetic test data
    
  # Debugging and development aids
  debugging:
    verbose_logging: false           # disable for production
    save_intermediate_results: true  # save for debugging
    profiling_enabled: false        # disable for production
    
  # Code quality and documentation
  quality:
    type_checking_enabled: true      # enforce type hints
    documentation_auto_generation: true
    code_style_enforcement: true     # PEP 8 compliance
    
# =============================================================================
# END OF CONFIGURATION
# Configuration file version: 1.0.0
# Last updated: 2024 (Academic Year 2024-25)
# Validated for: EnergyNexus MSc Project Requirements
# =============================================================================
